var s=Object.defineProperty;var a=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var d=Object.prototype.hasOwnProperty;var A=(n,e)=>{for(var t in e)s(n,t,{get:e[t],enumerable:!0})},_=(n,e,t,c)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of p(e))!d.call(n,o)&&o!==t&&s(n,o,{get:()=>e[o],enumerable:!(c=a(e,o))||c.enumerable});return n};var u=n=>_(s({},"__esModule",{value:!0}),n);var g={};A(g,{atendimentoKnex:()=>f});module.exports=u(g);var m=require("knex"),S={client:"pg",connection:{host:process.env.DATABASE_HOST,port:Number(process.env.DATABASE_PORT),user:process.env.DATABASE_USER,password:process.env.DATABASE_PASSWORD,database:process.env.DATABASE_NAME}},l=(0,m.knex)(S),r=l;var i=class{async postAtendimento(e){try{console.log(e),await r("atendimento").insert(e);let t=await r("atendimento").select("cd_atendimento").where({cd_paciente:e.cd_paciente,cd_profissional:e.cd_profissional,cd_procedimento:e.cd_procedimento});return{status:201,messageClient:"Atendimento criado com sucesso!",messageServer:{cd_atendimento:t[t.length-1].cd_atendimento}}}catch(t){return{status:500,messageClient:"Erro ao criar atendimento !",messageServer:t}}}},f=new i;0&&(module.exports={atendimentoKnex});
